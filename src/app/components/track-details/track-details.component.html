<ng-container *ngIf="track != null">
  <ng-container *ngIf="track.properties as properties">
    <ion-header>
      <ion-toolbar class="webmapp-track-details-toolbar">
        <ion-title
          *ngIf="properties?.name"
          [innerHtml]="properties.name | WebmappTranslate | lowercase"
          class="webmapp-track-details-header"
        ></ion-title>
        <ion-buttons slot="end">
          <ion-button class="webmapp-track-details-dismiss" (click)="triggerDismiss()">
            <ion-icon name="close"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <div #content id="webmapp-track-details-content">
      <div class="webmapp-track-title" *ngIf="properties?.name as name">
        {{name | WebmappTranslate | lowercase}}
      </div>

      <webmapp-track-elevation-chart
        *ngIf="track !=null"
        [feature]="track"
        (hover)="onLocationHover($event)"
        id="webmapp-track-details-elevation-chart"
      >
      </webmapp-track-elevation-chart>

      <div
        *ngIf="track && (track.properties.from || track.properties.to)"
        class="webmapp-track-details-from-to"
      >
        <div *ngIf="track.properties.from as from" class="webmapp-track-details-from-to-box">
          <div>Punto di partenza</div>
          <div>{{from}}</div>
        </div>
        <div *ngIf="track.properties.to as to" class="webmapp-track-details-from-to-box">
          <div>Punto di arrivo</div>
          <div>{{to}}</div>
        </div>
      </div>

      <span class="webmapp-title">Dettagli tecnici</span>
      <webmapp-track-technical-data [feature]="track" id="webmapp-track-details-technical-data">
      </webmapp-track-technical-data>
      <ng-container *ngIf="properties.taxonomy  as taxonomy">
        <div class="webmapp-title">Percorribilit√†</div>
        <div class="webmapp-walkability" *ngIf="taxonomy.activity as activity">
          <ng-container *ngFor="let item of activity">
            <div class="webmapp-walkability-box" *ngIf="item.identifier ==='hiking'">
              <i class="icn-fill-trekking"></i>
              <span class="webmapp-walkability-label">{{item.identifier|WebmappTranslate}}</span>
            </div>
            <div class="webmapp-walkability-box" *ngIf="item.identifier === 'cycling'">
              <i class="icn-outline-bike"></i>
              <span class="webmapp-walkability-label">{{item.identifier|WebmappTranslate}}</span>
            </div>
            <div class="webmapp-walkability-box" *ngIf="item.identifier === 'running'">
              <i class="icn-outline-running"></i>
              <span class="webmapp-walkability-label">{{item.identifier|WebmappTranslate}}</span>
            </div>
            <div class="webmapp-walkability-box" *ngIf="item.identifier === 'walking'">
              <i class="icn-outline-walking"></i>
              <span class="webmapp-walkability-label">{{item.identifier|WebmappTranslate}}</span>
            </div>
            <div class="webmapp-walkability-box" *ngIf="item.identifier === 'skitouring'">
              <i class="icn-outline-nordic-walking"></i>
              <span class="webmapp-walkability-label">{{item.identifier|WebmappTranslate}}</span>
            </div>
          </ng-container>
        </div>
      </ng-container>
      <ng-container *ngIf="false">
        <div class="webmapp-title">Come arrivare</div>
        <div class="webmapp-how-to-get">
          <div class="webmapp-hot-to-get-box">
            <i class="icn-outline-bike"></i>
            <span class="webmapp-how-to-get-label">Bici muscolari</span>
          </div>
          <div class="webmapp-hot-to-get-box">
            <i class="icn-outline-bike_1"></i>
            <span class="webmapp-how-to-get-label">Bici elettriche</span>
          </div>
          <div class="webmapp-hot-to-get-box">
            <i class="icn-outline-bike_2"></i>
            <span class="webmapp-how-to-get-label">Mezzi pubblici</span>
          </div>
          <div class="webmapp-hot-to-get-box">
            <i class="icn-outline-bike_4"></i>
            <span class="webmapp-how-to-get-label">NCC</span>
          </div>
          <div class="webmapp-hot-to-get-box">
            <i class="icn-outline-bike_3"></i>
            <span class="webmapp-how-to-get-label">Auto Propria</span>
          </div>
        </div>
      </ng-container>
      <div class="webmapp-title">Punti di interesse</div>
      <webmapp-track-poi
        [track]="track"
        [poi]="poiId"
        (poi-click)="poiClick.emit($event)"
      ></webmapp-track-poi>
      <ng-container *ngIf="properties?.description as description">
        <div class="webmapp-title">Descrizione</div>
        <webmapp-track-description
          [description]="description| WebmappTranslate"
        ></webmapp-track-description>
      </ng-container>
      <ng-container *ngIf="properties?.audio">
        <div class="webmapp-title">Descrizione Audio</div>
        <webmapp-track-audio [audio]="properties?.audio"></webmapp-track-audio>
      </ng-container>
      <webmapp-gallery *ngIf="properties?.image_gallery as imageGallery" [gallery]="imageGallery">
      </webmapp-gallery>
      <ng-container *ngIf="properties.related_url as relatedUrl">
        <div class="webmapp-title">Collegamenti esterni</div>
        <webmapp-related-urls [relatedUrls]="relatedUrl"> </webmapp-related-urls>
      </ng-container>
      <div class="webmapp-title">Downloads</div>
      <webmapp-track-download-urls [feature]="track" id="webmapp-track-details-download-urls">
      </webmapp-track-download-urls>
    </div>
  </ng-container>
</ng-container>
